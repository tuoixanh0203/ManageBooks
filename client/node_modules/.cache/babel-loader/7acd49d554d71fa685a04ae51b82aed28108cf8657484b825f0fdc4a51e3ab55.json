{"ast":null,"code":"/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\"\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error('Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time');\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(options.stripIgnoreTagBody, onIgnoreTag);\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n  var retHtml = parseTag(html, function (sourcePosition, position, tag, html, isClosing) {\n    var info = {\n      sourcePosition: sourcePosition,\n      position: position,\n      isClosing: isClosing,\n      isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag)\n    };\n\n    // call `onTag()`\n    var ret = onTag(tag, html, info);\n    if (!isNull(ret)) return ret;\n    if (info.isWhite) {\n      if (info.isClosing) {\n        return \"</\" + tag + \">\";\n      }\n      var attrs = getAttrs(html);\n      var whiteAttrList = whiteList[tag];\n      var attrsHtml = parseAttr(attrs.html, function (name, value) {\n        // call `onTagAttr()`\n        var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n        var ret = onTagAttr(tag, name, value, isWhiteAttr);\n        if (!isNull(ret)) return ret;\n        if (isWhiteAttr) {\n          // call `safeAttrValue()`\n          value = safeAttrValue(tag, name, value, cssFilter);\n          if (value) {\n            return name + '=\"' + value + '\"';\n          } else {\n            return name;\n          }\n        } else {\n          // call `onIgnoreTagAttr()`\n          ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n          return;\n        }\n      });\n\n      // build new tag html\n      html = \"<\" + tag;\n      if (attrsHtml) html += \" \" + attrsHtml;\n      if (attrs.closing) html += \" /\";\n      html += \">\";\n      return html;\n    } else {\n      // call `onIgnoreTag()`\n      ret = onIgnoreTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n      return escapeHtml(html);\n    }\n  }, escapeHtml);\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n  return retHtml;\n};\nmodule.exports = FilterXSS;","map":{"version":3,"names":["FilterCSS","require","DEFAULT","parser","parseTag","parseAttr","_","isNull","obj","undefined","getAttrs","html","i","spaceIndex","closing","length","trim","slice","isClosing","shallowCopyObject","ret","keysToLowerCase","Array","isArray","toLowerCase","map","item","FilterXSS","options","stripIgnoreTag","onIgnoreTag","console","error","onIgnoreTagStripAll","whiteList","allowList","onTag","onTagAttr","onIgnoreTagAttr","safeAttrValue","escapeHtml","css","cssFilter","prototype","process","toString","me","stripBlankChar","allowCommentTag","stripCommentTag","stripIgnoreTagBody","StripTagBody","retHtml","sourcePosition","position","tag","info","isWhite","Object","hasOwnProperty","call","attrs","whiteAttrList","attrsHtml","name","value","isWhiteAttr","indexOf","remove","module","exports"],"sources":["C:/Users/Admin/Documents/Web/GRAPHQL/node_modules/xss/lib/xss.js"],"sourcesContent":["/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\",\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing,\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function (sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag),\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function (name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}