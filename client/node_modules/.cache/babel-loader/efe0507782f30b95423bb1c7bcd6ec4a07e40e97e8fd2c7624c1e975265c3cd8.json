{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderPlaygroundPage = void 0;\nvar xss_1 = require(\"xss\");\nvar get_loading_markup_1 = require(\"./get-loading-markup\");\nvar filter = function (val) {\n  return xss_1.filterXSS(val, {\n    // @ts-ignore\n    whiteList: [],\n    stripIgnoreTag: true,\n    stripIgnoreTagBody: [\"script\"]\n  });\n};\nvar loading = get_loading_markup_1.default();\nvar reactPackageName = '@apollographql/graphql-playground-react';\nvar getCdnMarkup = function (_a) {\n  var version = _a.version,\n    _b = _a.cdnUrl,\n    cdnUrl = _b === void 0 ? '//cdn.jsdelivr.net/npm' : _b,\n    faviconUrl = _a.faviconUrl;\n  var buildCDNUrl = function (packageName, suffix) {\n    return filter(cdnUrl + \"/\" + packageName + (version ? \"@\" + version : '') + \"/\" + suffix || '');\n  };\n  return \"\\n    <link\\n      rel=\\\"stylesheet\\\"\\n      href=\\\"\" + buildCDNUrl(reactPackageName, 'build/static/css/index.css') + \"\\\"\\n    />\\n    \" + (typeof faviconUrl === 'string' ? \"<link rel=\\\"shortcut icon\\\" href=\\\"\" + filter(faviconUrl || '') + \"\\\" />\" : '') + \"\\n    \" + (faviconUrl === undefined ? \"<link rel=\\\"shortcut icon\\\" href=\\\"\" + buildCDNUrl(reactPackageName, 'build/favicon.png') + \"\\\" />\" : '') + \"\\n    <script\\n      src=\\\"\" + buildCDNUrl(reactPackageName, 'build/static/js/middleware.js') + \"\\\"\\n    ></script>\\n\";\n};\nvar renderConfig = function (config) {\n  return '<div id=\"playground-config\" style=\"display: none;\">' + xss_1.filterXSS(JSON.stringify(config), {\n    // @ts-ignore\n    whiteList: []\n  }) + '</div>';\n};\nfunction renderPlaygroundPage(options) {\n  var extendedOptions = __assign(__assign({}, options), {\n    canSaveConfig: false\n  });\n  // for compatibility\n  if (options.subscriptionsEndpoint) {\n    extendedOptions.subscriptionEndpoint = filter(options.subscriptionsEndpoint || '');\n  }\n  if (options.config) {\n    extendedOptions.configString = JSON.stringify(options.config, null, 2);\n  }\n  if (extendedOptions.endpoint) {\n    extendedOptions.endpoint = filter(extendedOptions.endpoint || '');\n  }\n  return \"\\n  <!DOCTYPE html>\\n  <html>\\n  <head>\\n    <meta charset=utf-8 />\\n    <meta name=\\\"viewport\\\" content=\\\"user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui\\\">\\n    <link href=\\\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Source+Code+Pro:400,700\\\" rel=\\\"stylesheet\\\">\\n    <title>\" + (filter(extendedOptions.title) || 'GraphQL Playground') + \"</title>\\n    \" + (extendedOptions.env === 'react' || extendedOptions.env === 'electron' ? '' : getCdnMarkup(extendedOptions)) + \"\\n  </head>\\n  <body>\\n    <style type=\\\"text/css\\\">\\n      html {\\n        font-family: \\\"Open Sans\\\", sans-serif;\\n        overflow: hidden;\\n      }\\n  \\n      body {\\n        margin: 0;\\n        background: #172a3a;\\n      }\\n  \\n      .playgroundIn {\\n        -webkit-animation: playgroundIn 0.5s ease-out forwards;\\n        animation: playgroundIn 0.5s ease-out forwards;\\n      }\\n  \\n      @-webkit-keyframes playgroundIn {\\n        from {\\n          opacity: 0;\\n          -webkit-transform: translateY(10px);\\n          -ms-transform: translateY(10px);\\n          transform: translateY(10px);\\n        }\\n        to {\\n          opacity: 1;\\n          -webkit-transform: translateY(0);\\n          -ms-transform: translateY(0);\\n          transform: translateY(0);\\n        }\\n      }\\n  \\n      @keyframes playgroundIn {\\n        from {\\n          opacity: 0;\\n          -webkit-transform: translateY(10px);\\n          -ms-transform: translateY(10px);\\n          transform: translateY(10px);\\n        }\\n        to {\\n          opacity: 1;\\n          -webkit-transform: translateY(0);\\n          -ms-transform: translateY(0);\\n          transform: translateY(0);\\n        }\\n      }\\n    </style>\\n    \" + loading.container + \"\\n    \" + renderConfig(extendedOptions) + \"\\n    <div id=\\\"root\\\" />\\n    <script type=\\\"text/javascript\\\">\\n      window.addEventListener('load', function (event) {\\n        \" + loading.script + \"\\n  \\n        const root = document.getElementById('root');\\n        root.classList.add('playgroundIn');\\n        const configText = document.getElementById('playground-config').innerText\\n        if(configText && configText.length) {\\n          try {\\n            GraphQLPlayground.init(root, JSON.parse(configText))\\n          }\\n          catch(err) {\\n            console.error(\\\"could not find config\\\")\\n          }\\n        }\\n      })\\n    </script>\\n  </body>\\n  </html>\\n\";\n}\nexports.renderPlaygroundPage = renderPlaygroundPage;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;AAAA;AAEA;AA6EA,IAAMA,MAAM,GAAG,UAACC,GAAG;EACjB,OAAOC,eAAS,CAACD,GAAG,EAAE;IACpB;IACAE,SAAS,EAAE,EAAE;IACbC,cAAc,EAAE,IAAI;IACpBC,kBAAkB,EAAE,CAAC,QAAQ;GAC9B,CAAC;AACJ,CAAC;AAGD,IAAMC,OAAO,GAAGC,4BAAgB,EAAE;AAElC,IAAMC,gBAAgB,GAAG,yCAAyC;AAClE,IAAMC,YAAY,GAAG,UAACC,EAA0D;MAAxDC,OAAO;IAAEC,cAAiC;IAAjCC,MAAM,mBAAG,wBAAwB;IAAEC,UAAU;EAC5E,IAAMC,WAAW,GAAG,UAACC,WAAmB,EAAEC,MAAc;IAAK,aAAM,CAAIJ,MAAM,SAAIG,WAAW,IAAGL,OAAO,GAAG,MAAIA,OAAS,GAAG,EAAE,UAAIM,MAAQ,IAAI,EAAE,CAAC;EAAjF,CAAiF;EAC9I,OAAO,yDAGKF,WAAW,CAACP,gBAAgB,EAAE,4BAA4B,CAAC,yBAEnE,OAAOM,UAAU,KAAK,QAAQ,GAAG,wCAAmCd,MAAM,CAACc,UAAU,IAAI,EAAE,CAAC,UAAM,GAAG,EAAE,gBACvGA,UAAU,KAAKI,SAAS,GAAG,wCAAmCH,WAAW,CAACP,gBAAgB,EAAE,mBAAmB,CAAC,UAAM,GAAG,EAAE,oCAEpHO,WAAW,CAACP,gBAAgB,EAAE,+BAA+B,CAAC,yBAE1E;AAAA,CAAC;AAGF,IAAMW,YAAY,GAAG,UAACC,MAAM;EAC1B,OAAO,qDAAqD,GAAGlB,eAAS,CAACmB,IAAI,CAACC,SAAS,CAACF,MAAM,CAAC,EAAE;IAC/F;IACAjB,SAAS,EAAE;GACZ,CAAC,GAAG,QAAQ;AACf,CAAC;AAED,SAAgBoB,oBAAoB,CAACC,OAA0B;EAC7D,IAAMC,eAAe,yBAChBD,OAAO;IACVE,aAAa,EAAE;EAAK,EACrB;EACD;EACA,IAAKF,OAAe,CAACG,qBAAqB,EAAE;IAC1CF,eAAe,CAACG,oBAAoB,GAAG5B,MAAM,CAAEwB,OAAe,CAACG,qBAAqB,IAAI,EAAE,CAAC;;EAE7F,IAAIH,OAAO,CAACJ,MAAM,EAAE;IAClBK,eAAe,CAACI,YAAY,GAAGR,IAAI,CAACC,SAAS,CAACE,OAAO,CAACJ,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;;EAExE,IAAIK,eAAe,CAACK,QAAQ,EAAE;IAC5BL,eAAe,CAACK,QAAQ,GAAG9B,MAAM,CAACyB,eAAe,CAACK,QAAQ,IAAI,EAAE,CAAC;;EAGnE,OAAO,wVAOI9B,MAAM,CAACyB,eAAe,CAACM,KAAK,CAAC,IAAI,oBAAoB,wBAE9DN,eAAe,CAACO,GAAG,KAAK,OAAO,IAAIP,eAAe,CAACO,GAAG,KAAK,UAAU,GACjE,EAAE,GACFvB,YAAY,CAACgB,eAAe,CAAC,qsCAkD/BnB,OAAO,CAAC2B,SAAS,cACjBd,YAAY,CAACM,eAAe,CAAC,4IAIzBnB,OAAO,CAAC4B,MAAM,seAiBvB;AACD;AApGAC","names":["filter","val","xss_1","whiteList","stripIgnoreTag","stripIgnoreTagBody","loading","get_loading_markup_1","reactPackageName","getCdnMarkup","_a","version","_b","cdnUrl","faviconUrl","buildCDNUrl","packageName","suffix","undefined","renderConfig","config","JSON","stringify","renderPlaygroundPage","options","extendedOptions","canSaveConfig","subscriptionsEndpoint","subscriptionEndpoint","configString","endpoint","title","env","container","script","exports"],"sources":["../src/render-playground-page.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}